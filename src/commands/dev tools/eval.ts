module.exports={name:'eval',desc:'Evaluate javascript code',options:[{name:'noembed',desc:'Makes the return not embed'}],fields:[{name:'code',opt:!1}],run:async(d:any)=>{if(!['735170692915396698','788869971073040454'].includes(d.author.id))return d.msg.reply('This command is for my developers only');d.suppressUpperCase=!0;var Start:number=Date.now(),axios=d.axios,dsc:any=require('discord.js'),http:any=require('http'),https:any=require('https'),fs:any=require('fs'),path:any=require('path'),cld=d.cld,exec=d.exec,os=d.os,cpu=d.cpu,x:any=null,y:any=null,z:any=null,str:string|String=new String(),arr:any[]=new Array(),obj:object|any=new Object(),num:number|Number=new Number(),{random,msToTime,makeError,snowflake,reboot,findUser,findMember,color,makeEmbed,makeFields}=d.util,{author,client,member,channel,guild,emotes,perms,hasPerms,removeArg,command,cmd}=d,evaled:any='undefined',depth:number=0,ne:boolean=d.args.includes('--noembed');try{ne?(d.removeArg('--noembed'),evaled=await eval(`(async()=>${d.str_args})()`)):evaled=await eval(`(async()=>${d.str_args})()`)}catch(e){var embedError=d.util.makeError(d,`Reason: ${e.message}`,e.name),row={type:1,components:[{label:'View stack',type:2,style:1,customId:'STACK_'+d.util.snowflake(),disabled:!1,emoji:null}]};d.client.cache.set(row.components[0].customId,e.stack);return d.msg.reply({embeds:[embedError],components:[row]})};var to=typeof(evaled),to2=d.util.type(evaled);if(to=='object')evaled=require('util').inspect(evaled,{depth:depth});if(ne){return d.msg.reply({content:`${evaled}`==='undefined'?'Assessed correctly':`${evaled}`})};/*@ts-ignore*/
var fields=makeFields([':incoming_envelope: | input',d.str_args.toCode('js')],[':page_facing_up: | output',`${evaled}`.toCode('js')],[':card_box: | typeof',to2.toCode('js')],[':stopwatch: | execution time',`${Date.now()-Start}Ms`.toCode('js')]),embed=makeEmbed(d,`${d.emotes.tofu} | Eval`,null,fields);return d.msg.reply({embeds:[embed]})}}